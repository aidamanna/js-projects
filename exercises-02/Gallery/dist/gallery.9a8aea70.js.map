{"version":3,"sources":["gallery.js"],"names":["Gallery","gallery","Error","images","Array","from","querySelectorAll","modal","document","querySelector","prevButton","nextButton","currentImage","openModal","matches","console","info","classList","add","window","addEventListener","handleKeyUp","showNextImage","showPrevImage","closeModal","remove","removeEventListener","showImage","el","src","textContent","title","dataset","description","nextElementSibling","firstElementChild","previousElementSibling","lastElementChild","handleClickOutside","event","target","currentTarget","key","forEach","image","gallery1","gallery2"],"mappings":"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","file":"gallery.9a8aea70.js","sourceRoot":"..","sourcesContent":["function Gallery(gallery) {\n\n    if (!gallery) {\n        throw new Error('No Gallery Found');\n    }\n\n    const images = Array.from(gallery.querySelectorAll('img'));\n    const modal = document.querySelector('.modal');\n    const prevButton = document.querySelector('.prev');\n    const nextButton = document.querySelector('.next');\n    let currentImage;\n\n    function openModal() {\n        if(modal.matches('.open')) {\n            console.info('Modal already open');\n            return;\n        }\n        modal.classList.add('open');\n\n        window.addEventListener('keydown', handleKeyUp);\n        nextButton.addEventListener('click', showNextImage);\n        prevButton.addEventListener('click', showPrevImage);\n    }\n\n    function closeModal() {\n        modal.classList.remove('open');\n\n        window.removeEventListener('keydown', handleKeyUp);\n        nextButton.removeEventListener('click', showNextImage);\n        prevButton.removeEventListener('click', showPrevImage);\n    }\n\n    function showImage(el) {\n        if(!el) {\n            console.info('No image to show');\n            return;\n        }\n        \n        modal.querySelector('img').src = el.src;\n        modal.querySelector('h2').textContent = el.title;\n        modal.querySelector('figure p').textContent = el.dataset.description;\n        currentImage = el;\n        openModal();\n    }\n\n    function showNextImage() {\n        showImage(currentImage.nextElementSibling || gallery.firstElementChild); \n    }\n\n    function showPrevImage() {\n        showImage(currentImage.previousElementSibling || gallery.lastElementChild); \n    }\n\n    function handleClickOutside(event) {\n        if (event.target !== event.currentTarget) {\n            return;\n        }\n\n        closeModal();\n    }\n\n    function handleKeyUp(event) {\n        if (event.key === 'Escape') return closeModal();\n        if (event.key === 'ArrowRight') return showNextImage();\n        if (event.key === 'ArrowLeft') return showPrevImage();\n    }\n\n    images.forEach(image => image.addEventListener('click', (event) => showImage(event.currentTarget)))\n    images.forEach(image => image.addEventListener('keyup', (event) => {\n        if(event.key === 'Enter') {\n            showImage(event.currentTarget);\n        }\n        \n    }));\n    modal.addEventListener('click', handleClickOutside);\n}\n\nconst gallery1 = Gallery(document.querySelector('.gallery1'));\nconst gallery2 = Gallery(document.querySelector('.gallery2'));"]}